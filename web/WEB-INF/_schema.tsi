# Schema Definitions
1=CREATE TABLE IF NOT EXISTS _sys_api_users (email VARCHAR(40) NOT NULL PRIMARY KEY,user_name VARCHAR(20) NOT NULL,api_key VARCHAR(50) NOT NULL, api_secret VARCHAR(50) NOT NULL,active SMALLINT NOT NULL DEFAULT 1,created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP)
2=CREATE TABLE IF NOT EXISTS _workflow_def (wf_code VARCHAR(6) PRIMARY KEY,wf_type VARCHAR(10) NOT NULL,wf_name VARCHAR(30) NOT NULL,client_user_id VARCHAR(20) NOT NULL,wf_def JSON NOT NULL,created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP)
3=CREATE TABLE IF NOT EXISTS _workflow_task (wf_task_id integer primary key generated always as identity,wf_code VARCHAR(6) NOT NULL,client_user_id VARCHAR(20) NOT NULL,wf_def JSON NOT NULL,data JSON NOT NULL,state VARCHAR(20) NOT NULL,created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP)
4=CREATE TABLE IF NOT EXISTS _workflow_task_history (wf_task_history_id SERIAL PRIMARY KEY,wf_code VARCHAR(6) NOT NULL,wf_loan_id INTEGER NOT NULL,client_user_id VARCHAR(20) NOT NULL,client_user_name VARCHAR(30),transition VARCHAR(30) NOT NULL,lat FLOAT, long FLOAT, created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP)
5=CREATE TABLE IF NOT EXISTS _scoring_def (s_code VARCHAR(6) PRIMARY KEY,s_type VARCHAR(10),s_desc VARCHAR(50) NOT NULL,client_user_id VARCHAR(20) NOT NULL,variables JSON NOT NULL,grades JSON,created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP)
6=CREATE TABLE IF NOT EXISTS _scoring_data (s_data_id integer primary key generated always as identity,s_code VARCHAR(6) NOT NULL,client_user_id VARCHAR(20) NOT NULL,score_def JSON NOT NULL,data JSON NOT NULL,score INTEGER NOT NULL,rating VARCHAR(5) NOT NULL,created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP)
